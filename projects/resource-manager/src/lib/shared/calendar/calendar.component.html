<div *ngIf="calendarView == 'month'">
  <div ngClass="style">
    <div [ngClass]="'calendar-info-container'" *ngIf="tabValue == 'projects'">
      <p [ngClass]="'calendar-info-text'">Refine Search By</p>
      <p>
        <mat-icon> unfold_less</mat-icon>
      </p>
    </div>
    <div ngClass="month-dates-container">
      <div
        [ngClass]="formatDate(day) != currentDate ? 'date' : 'current-date'"
        *ngFor="let day of currentMonthDates"
      >
        <p>{{ day | date: "EEE" }}</p>
        <p>{{ day | date: "d" }}</p>
        <hr />
      </div>
    </div>
  </div>
  <div ngClass="filter-projects-container" *ngIf="tabValue == 'projects'">
    <lib-filter
      (priorityFilter)="priorityFilter = $event"
      (statusFilter)="statusFilter = $event"
    ></lib-filter>
    <div [ngClass]="'projects-container'">
      <mat-accordion *ngFor="let campaign of currentMonthProjects">
        <mat-expansion-panel
          hideToggle
          (opened)="campaignPanelOpenState = true"
          (closed)="campaignPanelOpenState = false"
          [ngClass]="'campaign-content'"
          [ngStyle]="{
            'margin-left': monthLeftSpace(campaign.startDate),
            width: monthWidth(campaign.startDate, campaign.endDate),
            position: 'relative',
            'margin-bottom': '15px'
          }"
        >
          <mat-expansion-panel-header>
            <mat-panel-title
              ><mat-icon>navigate_next</mat-icon> {{ campaign.campaignName }}
            </mat-panel-title>
            <mat-panel-description [ngClass]="'campaign-card'">
              <div [ngClass]="'campaign-card'">
                <p [ngStyle]="{ 'margin-right': '15px' }">
                  {{ campaign.startDate | date: "MMM d" }} -
                  {{ campaign.endDate | date: "MMM d" }}
                </p>
                <p>{{ campaign.campaignName }}</p>
              </div>
              <p>{{ campaign.priority }} PRIORITY</p>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div>
            <mat-accordion *ngFor="let project of campaign.projects">
              <mat-expansion-panel
                hideToggle
                (opened)="projectPanelOpenState = true"
                (closed)="projectPanelOpenState = false"
                [ngStyle]="{ 'margin-bottom': '10px' }"
              >
                <mat-expansion-panel-header>
                  <mat-panel-title
                    ><mat-icon>navigate_next</mat-icon>
                    {{ project.projectName }}</mat-panel-title
                  >
                  <mat-panel-description [ngClass]="'campaign-card'">
                    <div [ngClass]="'campaign-card'">
                      <p [ngStyle]="{ 'margin-right': '15px' }">
                        {{ project.startDate | date: "MMM d" }} -
                        {{ project.endDate | date: "MMM d" }}
                      </p>
                      <p>{{ project.projectName }}</p>
                    </div>
                    <p>{{ project.priority }} PRIORITY</p>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div [ngClass]="'task-container'">
                  <div *ngFor="let task of project.tasks">
                    <mat-card
                      [ngClass]="'task-cards'"
                      (click)="openEmployeeDialog()"
                    >
                      <mat-card-content [ngClass]="'campaign-card'">
                        <div>
                          <p>{{ task.taskName }}</p>
                          <p>10 Hrs</p>
                          <p>
                            {{ task.startDate | date: "MMM d" }} -
                            {{ task.endDate | date: "MMM d" }}
                          </p>
                        </div>
                        <div [ngClass]="'task-card-content'">
                          <p>{{ task.priority }}</p>
                          <p>{{ task.taskName }}</p>
                        </div>
                      </mat-card-content>
                    </mat-card>
                  </div>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
</div>

<div *ngIf="calendarView == 'week'">
  <div ngClass="style">
    <div [ngClass]="'calendar-info-container'" *ngIf="tabValue == 'projects'">
      <p [ngClass]="'calendar-info-text'">Refine Search By</p>
      <p>
        <mat-icon> unfold_less</mat-icon>
      </p>
    </div>
    <div ngClass="week-dates-container">
      <div
        [ngClass]="
          formatDate(day) != currentDate ? 'week-date' : 'week-current-date'
        "
        *ngFor="let day of currentWeekDates"
      >
        <p>{{ day | date: "EEEE" }}</p>
        <p>{{ day | date: "d" }}-{{ day | date: "MMM" }}</p>
        <hr />
      </div>
    </div>
  </div>
  <div ngClass="filter-projects-container" *ngIf="tabValue == 'projects'">
    <lib-filter
      (priorityFilter)="priorityFilter = $event"
      (statusFilter)="statusFilter = $event"
    ></lib-filter>
    <div [ngClass]="'projects-container'">
      <mat-accordion
        *ngFor="let campaign of currentWeekProjects"
        [ngClass]="'campaign-content'"
      >
        <mat-expansion-panel
          hideToggle
          (opened)="campaignPanelOpenState = true"
          (closed)="campaignPanelOpenState = false"
          [ngStyle]="{
            'margin-left': weekLeftSpace(campaign.startDate),
            width: weekWidth(campaign.startDate, campaign.endDate),
            position: 'relative',
            'margin-bottom': '10px'
          }"
        >
          <mat-expansion-panel-header>
            <mat-panel-title
              ><mat-icon>navigate_next</mat-icon> {{ campaign.campaignName }}
            </mat-panel-title>
            <mat-panel-description [ngClass]="'campaign-card'">
              <div [ngClass]="'campaign-card'">
                <p [ngStyle]="{ 'margin-right': '15px' }">
                  {{ campaign.startDate | date: "MMM d" }} -
                  {{ campaign.endDate | date: "MMM d" }}
                </p>
                <p>{{ campaign.campaignName }}</p>
              </div>
              <p>{{ campaign.priority }} PRIORITY</p>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div>
            <mat-accordion *ngFor="let project of campaign.projects">
              <mat-expansion-panel
                hideToggle
                (opened)="projectPanelOpenState = true"
                (closed)="projectPanelOpenState = false"
              >
                <mat-expansion-panel-header>
                  <mat-panel-title
                    ><mat-icon>navigate_next</mat-icon>
                    {{ project.projectName }}</mat-panel-title
                  >
                  <mat-panel-description [ngClass]="'campaign-card'">
                    <div [ngClass]="'campaign-card'">
                      <p [ngStyle]="{ 'margin-right': '15px' }">
                        {{ project.startDate | date: "MMM d" }} -
                        {{ project.endDate | date: "MMM d" }}
                      </p>
                      <p>{{ project.projectName }}</p>
                    </div>
                    <p>{{ project.priority }} PRIORITY</p>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div [ngClass]="'task-container'">
                  <div *ngFor="let task of project.tasks">
                    <mat-card
                      [ngClass]="'task-cards'"
                      (click)="openEmployeeDialog()"
                    >
                      <mat-card-content [ngClass]="'campaign-card'">
                        <div>
                          <p>{{ task.taskName }}</p>
                          <p>10 Hrs</p>
                          <p>
                            {{ task.startDate | date: "MMM d" }} -
                            {{ task.endDate | date: "MMM d" }}
                          </p>
                        </div>
                        <div [ngClass]="'task-card-content'">
                          <p>{{ task.priority }}</p>
                          <p>{{ task.taskName }}</p>
                        </div>
                      </mat-card-content>
                    </mat-card>
                  </div>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
</div>
